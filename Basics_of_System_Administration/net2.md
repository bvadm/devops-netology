## Домашнее задание к занятию "3.7. Компьютерные сети.Лекция 2"
### 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
+ ifconfig -a
####
    ifconfig -a
    eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet xx.xx.xx.xx  netmask 255.255.255.255  broadcast 0.0.0.0
        inet6 fe80::9400:1ff:fe63:1f87  prefixlen 64  scopeid 0x20<link>
        ether 96:00:01:63:1f:87  txqueuelen 1000  (Ethernet)
        RX packets 1431989162  bytes 426032885167 (426.0 GB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 532658104  bytes 8891479637804 (8.8 TB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

    lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 11837  bytes 8731270 (8.7 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 11837  bytes 8731270 (8.7 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

+ ip link show
####
    ip link show
    1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
        link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
        link/ether 96:00:01:63:1f:87 brd ff:ff:ff:ff:ff:ff
+ nmcli device status 
####
    nmcli device status        
    DEVICE  TYPE      STATE      CONNECTION 
    eth0    ethernet  unmanaged  --         
    lo      loopback  unmanaged  -- 

#### Для Windows 
+ ipconfig /all

### 2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
#### LLDP протокол. Пакет lldpd. Команда lldpctl.

### 3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
#### Для этого используется технология Vlan. Устанавливается пакетом vlan.
#### Пример конфига:
+ netplan
####
    network:
        version: 2
        renderer: networkd
        ethernets:
            eth0:
            addresses: 192.168.100.10/24
            routes:
	        - to: default
              via: 192.168.100.1
		
        vlan10:
            id: 10
            link: eth0
            addresses: 192.168.50.10/24
                routes:
                - to: default
                  via: 192.168.50.1

### 4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
#### Агрегация портов в Linux называется Bonding
#### Типы агрегации интерфейсов в Linux:
+ balance-rr
#### Обеспечивает балансировку нагрузки и отказоустойчивость. В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему. Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся.
+ active-backup
#### Один из интерфейсов работает в активном режиме, остальные в ожидающем. При обнаружении проблемы на активном интерфейсе производится переключение на ожидающий интерфейс. Не требуется поддержки от коммутатора.
+ balance-xor
#### Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов. Режим дает балансировку нагрузки и отказоустойчивость. Не требуется дополнительной настройки коммутатора/коммутаторов.
+ broadcast
#### Происходит передача во все объединенные интерфейсы, обеспечивая отказоустойчивость.
+ 802.3ad
#### Это динамическое объединение портов. В данном режиме можно получить значительное увеличение пропускной способности как входящего так и исходящего трафика, используя все объединенные интерфейсы. Требует поддержки режима от коммутатора, а так же (иногда) дополнительную настройку коммутатора.
+ balance-tlb
#### Адаптивная балансировка нагрузки. При balance-tlb входящий трафик получается только активным интерфейсом, исходящий - распределяется в зависимости от текущей загрузки каждого интерфейса. Обеспечивается отказоустойчивость и распределение нагрузки исходящего трафика.
+ balance-alb
#### Адаптивная балансировка нагрузки (более совершенная). Обеспечивает балансировку нагрузки как исходящего, так и входящего трафика. Не требует специальной поддержки коммутатором, но требует возможности изменять MAC-адрес устройства.

#### Пример конфига на отказоустойчивость acrive-backup: 
    network:
    version: 2
    renderer: networkd
    ethernets:
        enp3s0: {}
        enp3s1: {}
    bonds:
        bond0:
            dhcp4: no
            interfaces:
            - enp3s0
            - enp3s1
            parameters:
                mode: active-backup
            addresses:
                - 192.168.1.13/24
            gateway4: 192.168.1.1
            mtu: 1500
            nameservers:
                addresses:
                    - 8.8.8.8
                    - 77.88.8.8

### 5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
    ipcalc -b 10.10.10.0/29
    Address:   10.10.10.0
    Netmask:   255.255.255.248 = 29
    Wildcard:  0.0.0.7
    =>
    Network:   10.10.10.0/29
    HostMin:   10.10.10.1
    HostMax:   10.10.10.6
    Broadcast: 10.10.10.7
    Hosts/Net: 6                     Class A, Private Internet
#### Для хостов доступно 6 адресов, 1 это адрес сети и 1 адрес для широковещательной рассылки.
#### Из сети маской /24 получится 32 сети с маской /29
#### Пример сетей:
    Subnet          ,   Valid Hosts                       ,   Broadcast       
    10.10.10.0      ,   10.10.10.1 to 10.10.10.6          ,   10.10.10.7      
    10.10.10.8      ,   10.10.10.9 to 10.10.10.14         ,   10.10.10.15     
    10.10.10.16     ,   10.10.10.17 to 10.10.10.22        ,   10.10.10.23     
    10.10.10.24     ,   10.10.10.25 to 10.10.10.30        ,   10.10.10.31     
    10.10.10.32     ,   10.10.10.33 to 10.10.10.38        ,   10.10.10.39  

### 6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
#### Остаётся одна частая сеть которую мы можем использовать это 100.64.0.0/10. Подходящая маска /26 на 62 узла.
    ipcalc -b 100.64.0.0/10 -s 50
    Address:   100.64.0.0
    Netmask:   255.192.0.0 = 10
    Wildcard:  0.63.255.255
    =>
    Network:   100.64.0.0/10
    HostMin:   100.64.0.1
    HostMax:   100.127.255.254
    Broadcast: 100.127.255.255
    Hosts/Net: 4194302               Class A

    1. Requested size: 50 hosts
    Netmask:   255.255.255.192 = 26
    Network:   100.64.0.0/26
    HostMin:   100.64.0.1
    HostMax:   100.64.0.62
    Broadcast: 100.64.0.63
    Hosts/Net: 62                    Class A

    Needed size:  64 addresses.
    Used network: 100.64.0.0/26
### 7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
#### проверить таблицу ARP:
    В Linux: arp -n, ip neigh
    В Windows: arp -a
#### очистить ARP кеш:
    В Linux: ip -s -s neigh flush all
    В Windows: arp -d 
#### удаление определенного ip из таблицы ARP:
    В Linux: arp -d <IP>
    В Windows: arp -d <IP>
 